---
title:	介质访问控制子层笔记
updated: 2017-11-19 22:00
---

1.MAC(Medium Access Control)子层：确定多路访问信道下一个使用者的协议。

2.使用点到点连接的网络-广域网;使用广播信道（多路访问信道，随机访问信道）的网络-局域网。

3.静态分配：FDM(频分多路复用):将频带平均分配给每个要参与通信的用户.

	容量为C bps信道发送平均时延T。帧到达率为y帧/秒，长度为每帧1/u位。服务率为uC帧/秒。结果为T=1/(uC-y).
	分成N个独立子信道则Tn=N*T.延迟增大。

4.动态信道分配假设:流量独立;单信道；冲突可观察；时间连续或者分槽；载波监听；

5.纯ALOHA：需要发送就发送；产生冲突帧被破坏后，随机等待一段时间后再次发送。

‘帧时’：帧的长度除以比特率，即发送一个标准帧所需要的时间。

模型：一个平均帧时产生N个帧的泊松分布。N>1,基本每个帧都冲突；0<N<1，算吞吐量。因为冲突重传帧和新帧平均为G帧。吞吐量S为负载G*成功传输概率P0.

有G帧，生成K帧的概率：<img src="http://chart.googleapis.com/chart?cht=tx&chl=\Large Pr[k]=\frac{G^ke^{-G}}{k!}" style="border:none;">

在2个帧时平均发送2G帧，不发生帧的概率(即k=0)P0=e^(-2G)。

6.分槽ALOHA:时间分成离散的槽。在G=1是S最大为1/e，为纯ALOHA最大的S的两倍。

7.载波监听多路协议

(1)1-坚持CSMA（Carrier Sense Multiple Access Protocols）:信道空闲发送概率为1；若产生冲突，等待一随机时间，然后重新开始发送过程。

(2)非坚持CSMA：若信道忙，等待一随机时间，然后重新监听信道是否空闲。

(3)p-坚持CSMA：以概率为P发送数据。

(4)带冲突检测的CSMA：发现冲突后立即停止传输帧。传输期；竞争期；空闲期

(5)无冲突协议

  I.位图协议：竞争期N个槽，J号在J号槽填1表示要发送帧。信道利用率低负载：d/(N+d)；高负载：竞争期N位但是发送期要发送N帧，均摊下来即发送一帧需要1位，即信道利用率为d/(d+1).数据长度为d。低地址吃亏。

  II.令牌传递：按预定顺序传递令牌，有令牌才能发送帧。

  III.二进制倒计数：使用二进制表示站地址；从高位去or,0的淘汰，1的继续。

8.有限竞争

竞争方法:轻负载下，发送延迟小；重负载下，信道效率低
无冲突方法:轻负载下，发送延迟大；重负载下，信道效率高

适应树搜索协议

9.无线局域网协议

 AP:接入点
 
 隐藏终端问题：由于站点距离竞争者太远，从而不能发现潜在介质竞争者的问题
 
 暴露终端问题：由于非竞争者距离发送站点太近，从而导致介质非竞争者不能发送数据的问题

 冲突避免多路访问MACA（Multiple Access with Collision Avoidance）:发送方发送RTS(Request To Send)帧，接受方发送应答CTS(Clear To Send)帧

10.经典以太网协议

帧格式：
	前导码：8个字节（前7个字节为10101010，最后一个字节为10101011是SOF起始定界符）
	目标地址和源地址：2 或 6个字节，以太网为6个字节；目的地址第一位（LSB: Least Significant Bit）为 0，表示单地址（individual address）；为 1，表示组地址（group address）支持multicast，目的地址全 1，为广播地址。
	源地址第一位（LSB）为0地址中的第二位（LSB）用来区分本地地址和全球地址。
	帧长度或者类型（2字节，0-0X600之间为长度，其余为类型）
	数据（0-1500个字节）
	填充（0-46字节）
	校验和：CRC校验（4个字节）

最短帧长：避免帧的第一个比特到达电缆的远端前帧已经发完，帧发送时间应该大于 2t.最远传播时间为t
二进制指数后退算法：经典以太网使用1-坚持CSMA/CD算法；冲突发生后，按照时间槽发送，时间槽长度为2t,即51.2微秒；第 i 次冲突后，在 0 至 2i-1 间随机地选择一个等待的时槽数，再开始重传；10次冲突后，选择等待的时槽数固定在0至1023间；16次后放弃




	



    





